##
# This code was generated by
# \ / _    _  _|   _  _
#  | (_)\/(_)(_|\/| |(/_  v1.0.0
#       /       /       

module Twilio
  module REST
    class CompletedList < ListResource
      ##
      # Initialize the CompletedList
      def initialize(version)
        super(version)
        
        # Path Solution
        @solution = {}
        @uri = "/Conversations/Completed"
      end
      
      ##
      # Reads CompletedInstance records from the API as a list.
      def read(limit: nil, page_size: nil)
        @version.read(
            page_size: nil
        )
      end
      
      ##
      # Retrieve a single page of CompletedInstance records from the API.
      def page(page_token: nil, page_number: nil, page_size: nil)
        params = {
            'PageToken' => page_token,
            'Page' => page_number,
            'PageSize' => page_size,
        }
        @version.page(
            self,
            CompletedInstance,
            {},
            'GET',
            @uri,
            params
        )
      end
      
      ##
      # Provide a user friendly representation
      def to_s
        '#<Twilio.Conversations.V1.CompletedList>'
      end
    end
  
    class CompletedInstance < InstanceResource
      def initialize(version, payload)
        super(version)
        
        # Marshaled Properties
        @properties = {
            'sid' => payload['sid'],
            'status' => payload['status'],
            'duration' => deserialize.integer(payload['duration']),
            'date_created' => deserialize.iso8601_datetime(payload['date_created']),
            'start_time' => deserialize.iso8601_datetime(payload['start_time']),
            'end_time' => deserialize.iso8601_datetime(payload['end_time']),
            'account_sid' => payload['account_sid'],
            'url' => payload['url'],
        }
      end
      
      def sid
        @properties['sid']
      end
      
      def status
        @properties['status']
      end
      
      def duration
        @properties['duration']
      end
      
      def date_created
        @properties['date_created']
      end
      
      def start_time
        @properties['start_time']
      end
      
      def end_time
        @properties['end_time']
      end
      
      def account_sid
        @properties['account_sid']
      end
      
      def url
        @properties['url']
      end
      
      def participants
        @context.participants
      end
      
      ##
      # Provide a user friendly representation
      def to_s
        "<Twilio.Conversations.V1.CompletedInstance>"
      end
    end
  end
end